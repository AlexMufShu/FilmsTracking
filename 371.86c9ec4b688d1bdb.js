"use strict";(self.webpackChunkFilmsTracking=self.webpackChunkFilmsTracking||[]).push([[371],{4371:(Z,s,c)=>{c.r(s),c.d(s,{ListModule:()=>y});var a=c(6895),g=c(6514),l=c(5495),d=c(9067),p=c(4004),f=c(262),m=c(9646),t=c(1571),_=c(5790);function u(e,i){if(1&e&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n," ")}}function h(e,i){if(1&e&&(t.TgZ(0,"div",34),t.YNc(1,u,2,1,"div",35),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.filmItem.genre)}}function x(e,i){1&e&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg"),t._UZ(2,"use",38),t.qZA()())}function b(e,i){1&e&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg"),t._UZ(2,"use",38),t.qZA()())}function C(e,i){if(1&e&&(t.TgZ(0,"div",41)(1,"div",42),t._UZ(2,"img",43),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.MGl("src","assets/images/",n.name,".jpg",t.LSH),t.xp6(2),t.hij(" ",n.name," ")}}function M(e,i){if(1&e&&(t.TgZ(0,"div",39),t.YNc(1,C,5,2,"div",40),t.qZA()),2&e){const n=i.index,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n<o.countVisibleItems)}}function O(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"p",5),t._uU(5),t.qZA(),t.TgZ(6,"button",6),t._uU(7),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.qZA(),t.TgZ(10,"p",7),t._uU(11),t.ALo(12,"slice"),t.qZA(),t.YNc(13,h,2,1,"div",8),t.qZA(),t.TgZ(14,"div",9)(15,"div",10)(16,"span",11),t._uU(17),t.qZA(),t.TgZ(18,"span",12),t._uU(19,"IMDb"),t.qZA()(),t.TgZ(20,"div",13),t._UZ(21,"button",14),t.TgZ(22,"button",15),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.watched())}),t.qZA(),t.TgZ(23,"button",16),t._uU(24,"\u041e\u0446\u0435\u043d\u0438\u0442\u044c"),t.qZA()(),t.TgZ(25,"div",17)(26,"div",18),t.YNc(27,x,3,0,"div",19),t.YNc(28,b,3,0,"div",20),t.qZA(),t.TgZ(29,"div",21)(30,"span"),t._uU(31,"12+"),t.qZA(),t.TgZ(32,"span"),t._uU(33,"Full HD"),t.qZA()()()()()(),t.TgZ(34,"div",22)(35,"div",23)(36,"p",24),t._uU(37,"\u041e \u0444\u0438\u043b\u044c\u043c\u0435"),t.qZA(),t.TgZ(38,"div",25),t._uU(39),t.qZA()(),t.TgZ(40,"div",26)(41,"p",24),t._uU(42,"\u0422\u0440\u0435\u0439\u043b\u0435\u0440"),t.qZA(),t.TgZ(43,"div",27),t._UZ(44,"div",28),t.qZA()()(),t.TgZ(45,"div",29)(46,"p",24),t._uU(47,"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"),t.qZA(),t.TgZ(48,"div",30)(49,"div",31),t.YNc(50,M,2,1,"div",32),t.qZA(),t.TgZ(51,"div",33),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.showMore())}),t._uU(52,"+\u0415\u0449\u0435"),t.qZA()()()()}if(2&e){const n=t.oxw();t.xp6(1),t.Udp("background-image","url("+n.bannerSrc+")"),t.xp6(4),t.AsE("Star wars. Episode ",n.filmItem.episode_id,": ",n.filmItem.title,""),t.xp6(2),t.hij("\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u0442 ",n.price," \u0440"),t.xp6(2),t.AsE("Star wars. Episode ",n.filmItem.episode_id,": ",n.filmItem.title,""),t.xp6(2),t.lnq("",t.Dn7(12,17,n.filmItem.release_date,0,4),", ",n.filmItem.country,", ",n.filmItem.duration,""),t.xp6(2),t.Q6J("ngIf",n.filmItem.genre),t.xp6(4),t.Oqu(n.filmItem.rating),t.xp6(5),t.Q6J("className",n.filmItem.watched?"icons__watched":"icons__unwatched"),t.xp6(5),t.Q6J("ngForOf",n.starsPositive),t.xp6(1),t.Q6J("ngForOf",n.starsEmpty),t.xp6(11),t.Oqu(n.filmItem.opening_crawl),t.xp6(11),t.Q6J("ngForOf",n.filmCharacters)}}const P=[{path:"",component:d.n,data:{path:"list"}},{path:":id",component:(()=>{class e{constructor(n,o){this.filmsService=n,this.route=o,this.price=0,this.stars=5,this.countVisibleItems=6}ngOnInit(){let n=Math.floor(Math.random()*(Math.floor(7)-Math.ceil(1)+1)+Math.ceil(1));this.bannerSrc="../../../assets/images/banner-"+n+".jpeg";let o=this.route.snapshot.paramMap.get("id");this.price=Math.floor(201*Math.random()+99),this.filmsService.getFilmFromList(o||"1").pipe((0,p.U)(r=>{this.filmItem={title:r.title,episode_id:r.episode_id,opening_crawl:r.opening_crawl,release_date:r.release_date,characters:r.characters,country:"USA",duration:(3*Math.random()+1).toFixed(2).replace(".",":"),rating:(4*Math.random()+6).toFixed(1),watched:r.watched||!1,genre:["\u0424\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430","\u0411\u043e\u0435\u0432\u0438\u043a","\u0424\u044d\u043d\u0442\u0430\u0437\u0438","\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"]},this.onLoaded(this.filmItem)}),(0,f.K)(r=>this.handleError(r))).subscribe()}onLoaded(n){let o=Math.floor(n.rating/2);this.starsPositive=Array(o),this.starsEmpty=Array(this.stars-o),this.getCharacters()}handleError(n){return this.error=n.message||n.error?.message,(0,m.of)(null)}watched(){this.filmItem.watched=!0}getCharacters(){return this.filmsService.getCharactersFromFilm(this.filmItem.characters).subscribe(n=>{this.filmCharacters=n})}showMore(){this.countVisibleItems=this.filmCharacters.length}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.d),t.Y36(l.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["kinostorm-list-detail"]],decls:1,vars:1,consts:[["class","film",4,"ngIf"],[1,"film"],[1,"film-banner"],[1,"film-banner__block"],[1,"film-banner__block-left"],[1,"name"],[1,"button"],[1,"info"],["class","genres",4,"ngIf"],[1,"film-banner__block-right"],[1,"rating"],[1,"rating__big"],[1,"rating__small"],[1,"icons"],[1,"icons__add"],[3,"className","click"],[1,"icons__rating"],[1,"stars"],[1,"stars__block"],["class","positive",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"stars__text"],[1,"film-content"],[1,"film-content__left"],[1,"title"],[1,"film-content__left-about"],[1,"film-content__right"],[1,"film-content__right-video"],[1,"play"],[1,"film-characters"],[1,"content"],[1,"content__persons"],["class","content__persons-card",4,"ngFor","ngForOf"],[1,"content__more",3,"click"],[1,"genres"],["class","genres-item",4,"ngFor","ngForOf"],[1,"genres-item"],[1,"positive"],[0,"xlink","href","assets/icons/stars.svg#star"],[1,"content__persons-card"],["class","item",4,"ngIf"],[1,"item"],[1,"photo"],["onerror","this.src='assets/images/sw.png'",3,"src"]],template:function(n,o){1&n&&t.YNc(0,O,53,21,"div",0),2&n&&t.Q6J("ngIf",o.filmItem)},dependencies:[a.sg,a.O5,a.OU],styles:[".film-banner[_ngcontent-%COMP%]{width:100%;height:440px;background-size:cover;position:relative}.film-banner__block[_ngcontent-%COMP%]{padding:150px 91px 0;height:290px;background:linear-gradient(180deg,rgba(25,30,35,0) 0%,#191E23 88.31%);display:flex;justify-content:space-between;flex-direction:row}.film-banner__block-left[_ngcontent-%COMP%]{display:flex;flex-direction:column}.film-banner__block-left[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;font-size:38px;line-height:48px;display:flex;align-items:flex-end;letter-spacing:.02em;color:#fff;max-width:520px;margin-block-start:0;margin-block-end:0}.film-banner__block-left[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{text-align:center;max-width:340px;font-style:normal;font-weight:700;font-size:16px;line-height:25px;display:block;align-items:center;letter-spacing:.05em;text-transform:uppercase;color:#fff;background:#28A396;border-radius:3px;border:none;padding:9px 20px;margin:11px 0}.film-banner__block-left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;display:flex;align-items:center;letter-spacing:.02em;color:#cfcac7;margin-block-start:0;margin-block-end:0}.film-banner__block-left[_ngcontent-%COMP%]   .genres[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px 0 0;max-width:60%}.film-banner__block-left[_ngcontent-%COMP%]   .genres-item[_ngcontent-%COMP%]{background:rgba(255,255,255,.08);background-blend-mode:lighten;border-radius:3px;font-style:normal;font-weight:400;font-size:14px;line-height:30px;display:flex;align-items:flex-end;text-align:center;color:#cfcac7;margin:0 10px 0 0;padding:0 10px 0 9px}.film-banner__block-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.film-banner__block-right[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{margin:0 0 26px;text-align:end}.film-banner__block-right[_ngcontent-%COMP%]   .rating__big[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;font-style:normal;font-weight:700;font-size:34px;line-height:26px;display:flex;align-items:center;letter-spacing:-.02em;color:#fff}.film-banner__block-right[_ngcontent-%COMP%]   .rating__small[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:12px;line-height:30px;color:#d6d2cf}.film-banner__block-right[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex}.film-banner__block-right[_ngcontent-%COMP%]   .icons__add[_ngcontent-%COMP%]{width:36px;height:36px;background-color:#28a396;border-radius:5px;background-image:url(add.d576af9c2abd5899.svg);border:none;background-position:center;background-repeat:no-repeat;cursor:pointer;margin:0 7px}.film-banner__block-right[_ngcontent-%COMP%]   .icons__watched[_ngcontent-%COMP%]{width:36px;height:36px;background-color:#28a396;border-radius:5px;background-image:url(watched.2dedb8097e98a630.svg);border:none;background-position:center;background-repeat:no-repeat;cursor:pointer;margin:0 7px}.film-banner__block-right[_ngcontent-%COMP%]   .icons__unwatched[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:5px;background-image:url(watched.2dedb8097e98a630.svg);border:none;background-position:center;background-repeat:no-repeat;cursor:pointer;background-color:#23292e;margin:0 7px}.film-banner__block-right[_ngcontent-%COMP%]   .icons__rating[_ngcontent-%COMP%]{padding:8px 11px 8px 33px;background-color:#23292e;border-radius:5px;font-style:normal;font-weight:700;font-size:14px;line-height:16px;display:flex;align-items:center;text-align:center;color:#fff;border:none;background-image:url(rating.23bb3a95dfd83649.svg);background-repeat:no-repeat;background-position:bottom 14px left 8px;margin:0 0 0 7px}.film-banner__block-right[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;flex-direction:column}.film-banner__block-right[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#828a8e;width:11px;height:10px}.film-banner__block-right[_ngcontent-%COMP%]   .stars__block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0 0}.film-banner__block-right[_ngcontent-%COMP%]   .stars__block[_ngcontent-%COMP%]   .positive[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#f2c94c}.film-banner__block-right[_ngcontent-%COMP%]   .stars__text[_ngcontent-%COMP%]{display:flex;font-style:normal;font-weight:400;font-size:14px;line-height:30px;justify-content:space-between;align-items:flex-end;color:#cfcac7}.film[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-block-start:0;margin-block-end:0;font-style:normal;font-weight:400;font-size:20px;line-height:20px;display:flex;align-items:center;text-transform:uppercase;color:#8fd4c0;margin:0 0 18px}.film-content[_ngcontent-%COMP%]{background-color:#191e23;display:flex;padding:25px 91px}.film-content__left[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 25px 0 0}.film-content__left-about[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:#d6d2cf}.film-content__right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.film-content__right-video[_ngcontent-%COMP%]{width:340px;height:189px;background-image:url(video.38ced4ca28f96777.jpg);background-size:contain;position:relative;justify-content:center;display:flex;align-items:center}.film-content__right-video[_ngcontent-%COMP%]   .play[_ngcontent-%COMP%]{width:60px;height:58px;background-image:url(play.ce404dcee371587a.svg);display:block}.film-characters[_ngcontent-%COMP%]{background-color:#23292e;padding:30px 91px}.film-characters[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:18px 0 0;display:flex;align-items:flex-start}.film-characters[_ngcontent-%COMP%]   .content__persons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.film-characters[_ngcontent-%COMP%]   .content__persons-card[_ngcontent-%COMP%]{margin:15px 0;display:flex;flex:0 0 33.333333%}.film-characters[_ngcontent-%COMP%]   .content__persons-card[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{align-items:center;display:flex}.film-characters[_ngcontent-%COMP%]   .content__persons-card[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{width:70px;height:69px;overflow:hidden}.film-characters[_ngcontent-%COMP%]   .content__persons-card[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:69px;border-radius:3px}.film-characters[_ngcontent-%COMP%]   .content__persons-card[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin:0 0 0 19px;font-style:normal;font-weight:400;font-size:14px;line-height:20px;display:flex;align-items:flex-end;color:#d6d2cf}.film-characters[_ngcontent-%COMP%]   .content__more[_ngcontent-%COMP%]{height:24px;background:#383E43;border-radius:3px;font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:30px;display:flex;align-items:flex-end;text-align:center;color:#cfcac7;padding:20px 16px;margin:15px 0 0;cursor:pointer}"]}),e})(),data:{path:"films/:id"}}];let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(P),l.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,g.m,k]}),e})()}}]);